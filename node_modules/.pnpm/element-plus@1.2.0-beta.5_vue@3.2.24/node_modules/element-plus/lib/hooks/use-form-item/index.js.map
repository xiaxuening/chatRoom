{"version":3,"file":"index.js","sources":["../../../../../packages/hooks/use-form-item/index.ts"],"sourcesContent":["import { inject, computed, getCurrentInstance, unref } from 'vue'\nimport { elFormKey, elFormItemKey } from '@element-plus/tokens'\nimport { buildProps, componentSize } from '@element-plus/utils/props'\nimport { useGlobalConfig } from '@element-plus/utils/util'\n\nimport type { ExtractPropTypes } from 'vue'\nimport type { MaybeRef } from '@vueuse/core'\n\nconst sizes = ['', ...componentSize] as const\n\nexport const useFormItemProps = buildProps({\n  size: {\n    type: String,\n    values: sizes,\n    default: '',\n  },\n  disabled: Boolean,\n} as const)\nexport type UseFormItemProps = ExtractPropTypes<typeof useFormItemProps>\n\nexport type LocalFallbacks = {\n  size?: MaybeRef<UseFormItemProps['size'] | undefined>\n  disabled?: MaybeRef<UseFormItemProps['disabled'] | undefined>\n}\n\nexport const useFormItem = ({ size, disabled }: LocalFallbacks = {}) => {\n  const vm = getCurrentInstance()!\n  const $ELEMENT = useGlobalConfig()\n\n  const props = vm.proxy?.$props as UseFormItemProps\n  const form = inject(elFormKey, undefined)\n  const formItem = inject(elFormItemKey, undefined)\n\n  return {\n    size: computed(() => {\n      // TODO, fallback to default size like 'medium/large' instead of empty string\n      return (\n        props.size ||\n        unref(size) ||\n        formItem?.size ||\n        form?.size ||\n        $ELEMENT.size ||\n        ''\n      )\n    }),\n    disabled: computed(() => {\n      return (\n        props.disabled === true || unref(disabled) || form?.disabled || false\n      )\n    }),\n    form,\n    formItem,\n  }\n}\n"],"names":["componentSize","buildProps","getCurrentInstance","useGlobalConfig","form","inject","elFormKey","elFormItemKey","computed","unref"],"mappings":";;;;;;;;;;AAQA,MAAM,QAAQ,CAAC,IAAI,GAAGA;MAET,mBAAmBC,iBAAW;AAAA,EACzC,MAAM;AAAA,IACJ,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS;AAAA;AAAA,EAEX,UAAU;AAAA;MASC,cAAc,CAAC,EAAE,MAAM,aAA6B,OAAO;AAzBxE;AA0BE,QAAM,KAAKC;AACX,QAAM,WAAWC;AAEjB,QAAM,QAAQ,SAAG,UAAH,mBAAU;AACxB,QAAMC,SAAOC,WAAOC,gBAAW;AAC/B,QAAM,WAAWD,WAAOE,oBAAe;AAEvC,SAAO;AAAA,IACL,MAAMC,aAAS,MAAM;AAEnB,aACE,MAAM,QACNC,UAAM,+CACI,2CACJ,SACN,SAAS,QACT;AAAA;AAAA,IAGJ,UAAUD,aAAS,MAAM;AACvB,aACE,MAAM,aAAa,QAAQC,UAAM,+CAAmB,aAAY;AAAA;AAAA,UAGpEL;AAAA,IACA;AAAA;AAAA;;;;;"}